# 问题：构造函数为什么不能定义为虚函数？

**带有虚函数的类对象的构造过程**：在编译阶段中，如果类中含有虚函数，编译器会为类创建一个虚函数表。在类对象的构造函数中，编译器会自动添加一个虚函数表指针vptr，指向类的虚函数表。类对象还没有完成创建、就不会有虚函数表指针vptr，没有这个指针则无法实现多态。本质上违反了`先实例化、再调用`的原则。

```c++
class A {
    virtual A() {
        // 编译器自动添加虚函数表指针vptr
    }
};

// 1、实现多态肯定需要vptr的参与
// 2、类对象还没构造所以不会有vptr，何谈多态
```

