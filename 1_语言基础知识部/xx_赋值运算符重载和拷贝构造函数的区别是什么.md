# 问题：赋值运算符重载和拷贝构造函数的区别是什么？

**拷贝构造函数**：拷贝构造函数的参数是对象本身的引用，一般添加const同时支持左值和右值。拷贝构造函数的重点落在`构造`上面，也就是说新的对象还没有完成创建。即使不显式地写出拷贝构造函数，编译器也会自动添加一个默认的拷贝构造函数，进行对象的一一赋值。`但是注意这种实现是浅拷贝，深拷贝需要自己实现`。

- 深拷贝：如果类中含有指针成员，就要手写一个拷贝构造函数，通过在堆区new新的内存用于放置指针指向的内容，实现深拷贝。

**赋值运算符重载**：这个和拷贝构造函数很容易弄混，所以放在一起去考察。赋值运算符重载的前提是`被赋值对象已经被创建出来了`，所以重点不在构造而是在赋值上面，和拷贝构造函数不是一个层次的概念。如果没有显式地写出赋值运算符地重载，系统也会生成默认地赋值运算符，做一些基本的拷贝工作。

c++编译器至少给一个类添加4个函数：
1. 默认构造函数（无参，函数体为空）
2. 默认析构函数（无参，函数体为空）
3. 默认拷贝构造函数，对属性进行值拷贝
4. 赋值运算符operator=，对属性进行值拷贝。

```c++
class Base {
private:
    int m_a;
public:
    Base(int n) {
        m_a = n;
        cout << "Constructor called." << endl;
    }
    Base(const Base& b) { // 拷贝构造函数
        m_a = b.m_a;
        cout << "Copy Constructor called." << endl;
    }
};

int main()
{
    Base b(100); // 默认构造
    Base c(b); // c还没有被创建，所以是拷贝构造
    c = b; // c已经被创建，所以是运算符重载
}
```















